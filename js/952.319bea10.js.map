{"version":3,"file":"js/952.319bea10.js","mappings":"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","sources":["webpack://vue-project/./src/components/member/messageCU.vue","webpack://vue-project/./src/components/member/messageCU.vue?882f","webpack://vue-project/./src/components/project/addMemberV2.vue","webpack://vue-project/./src/components/project/addMemberV2.vue?e7bf"],"sourcesContent":["<template>\r\n  <el-form :model=\"messageData\" label-width=\"120px\" :label-position=\"'left'\">\r\n    <el-form-item label=\"받는 사람\" prop=\"to\">\r\n      <addMemberV2\r\n        :parentData=\"messageData.to\"\r\n        @savePart=\"savePart\"\r\n        v-if=\"checkReply\"\r\n      />\r\n      <el-input v-model=\"messageData.to\" disabled :formatter=\"formatTo\" />\r\n    </el-form-item>\r\n    <el-alert type=\"info\" show-icon :closable=\"false\">\r\n      <div>자기 자신에게 보내는 메일은 자동으로 제외됩니다.</div>\r\n    </el-alert>\r\n    <el-form-item label=\"제목\" prop=\"title\">\r\n      <el-input v-model=\"messageData.title\" />\r\n    </el-form-item>\r\n    <el-form-item label=\"내용\">\r\n      <el-input type=\"textarea\" v-model=\"messageData.content\" autosize />\r\n    </el-form-item>\r\n    <el-form-item>\r\n      <div class=\"center\">\r\n        <el-button type=\"primary\" @click=\"onSubmit\">보내기</el-button>\r\n        <el-button type=\"warning\" @click=\"$emit('cancel')\">취소</el-button>\r\n      </div>\r\n    </el-form-item>\r\n  </el-form>\r\n</template>\r\n\r\n<script>\r\nimport addMemberV2 from \"../project/addMemberV2.vue\";\r\nimport { MemberList } from \"@/composables/memberList\";\r\n\r\nexport default {\r\n  name: \"messageCU\",\r\n  components: {\r\n    addMemberV2,\r\n  },\r\n  emits: [\"saveMessage\"],\r\n  props: {\r\n    replyData: {\r\n      type: Object,\r\n      default: () => ({\r\n        from: \"\",\r\n        content: \"\",\r\n        to: [],\r\n        title: \"\",\r\n      }),\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      messageData: {\r\n        from: MemberList.currentMember,\r\n        to: [],\r\n        content: \"\",\r\n        title: \"\",\r\n      },\r\n    };\r\n  },\r\n  computed: {\r\n    arrangeTo() {\r\n      return this.messageData.to.join(\", \");\r\n    },\r\n    currentTo() {\r\n      if (this.replyData.to === undefined && this.messageData.to === \"\") {\r\n        return [];\r\n      } else if (this.replyData.to === undefined) {\r\n        return this.messageData.to;\r\n      } else {\r\n        return this.replyData.to;\r\n      }\r\n    },\r\n    checkReply() {\r\n      return Object.keys(this.replyData).length === 0;\r\n    },\r\n  },\r\n  methods: {\r\n    savePart(data) {\r\n      this.messageData.to = data;\r\n    },\r\n    onSubmit() {\r\n      this.messageData.to = this.messageData.to.filter(\r\n        (item) => item.name !== MemberList.currentMember\r\n      );\r\n      this.messageData.content = this.preserveWhitespace(\r\n        this.messageData.content\r\n      );\r\n      this.$emit(\"saveMessage\", this.messageData);\r\n    },\r\n    formatTo() {\r\n      if (!Array.isArray(this.messageData.to)) return \"\";\r\n      return this.messageData.to.map((member) => member.name).join(\", \");\r\n    },\r\n    preserveWhitespace(text) {\r\n      return text.replace(/\\n/g, \"<br>\").replace(/ /g, \"&nbsp;\");\r\n    },\r\n    unpreserveWhitespace(text) {\r\n      return text.replace(/<br>/g, \"\\n\").replace(/&nbsp;/g, \" \");\r\n    },\r\n  },\r\n  watch: {\r\n    replyData: {\r\n      immediate: true,\r\n      handler: function (val) {\r\n        if (Object.keys(val).length === 0) {\r\n          return; // Exit the handler if replyData is empty\r\n        }\r\n        this.messageData.to.push(MemberList.findMemberByName(val.from));\r\n        this.messageData.title = `RE: ${val.title}`;\r\n        this.messageData.content = `\\n\\n ------------------ \\n\\n받는사람:${\r\n          val.to.name\r\n        }(${val.to.rank})\\n보낸사람:${\r\n          val.from\r\n        }\\n내용:${this.unpreserveWhitespace(val.content)}`;\r\n      },\r\n      deep: true,\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"\"></style>\r\n","import { render } from \"./messageCU.vue?vue&type=template&id=5ca5646a\"\nimport script from \"./messageCU.vue?vue&type=script&lang=js\"\nexport * from \"./messageCU.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template lang=\"\">\r\n  <el-button type=\"primary\" @click=\"shown = true\" class=\"buttons\"\r\n    >추가</el-button\r\n  >\r\n  <el-dialog v-model=\"shown\" :show-close=\"false\">\r\n    <template #header=\"{ titleId, titleClass }\">\r\n      <div class=\"dialogHeader\">\r\n        <h2 :id=\"titleId\" :class=\"titleClass\">참여인원</h2>\r\n      </div>\r\n    </template>\r\n    <div class=\"transfer\">\r\n      <el-transfer\r\n        v-model=\"member\"\r\n        :data=\"MemberTable\"\r\n        :titles=\"['직원', '참가인원']\"\r\n        filter-placeholder=\"직원 검색\"\r\n        filterable\r\n      >\r\n      </el-transfer>\r\n    </div>\r\n    <div class=\"buttons\">\r\n      <el-button type=\"primary\" @click=\"Confirm\">확인</el-button>\r\n      <el-button type=\"primary\" @click=\"debug\">디버그</el-button>\r\n      <el-button type=\"warning\" @click=\"notSave\">취소</el-button>\r\n    </div>\r\n  </el-dialog>\r\n</template>\r\n<script>\r\nimport { MemberList } from \"@/composables/memberList\";\r\nexport default {\r\n  name: \"addMember\",\r\n  emits: [\"savePart\"],\r\n  methods: {\r\n    Confirm() {\r\n      this.member = this.member.map((item) => {\r\n        const original = this.MemberList.List[item];\r\n        return {\r\n          name: original.name,\r\n          job: original.job,\r\n          rank: original.rank,\r\n        };\r\n      });\r\n      this.$emit(\"savePart\", this.member);\r\n      this.shown = false;\r\n    },\r\n    notSave() {\r\n      this.member = this.parentData;\r\n      this.shown = false;\r\n    },\r\n    debug() {\r\n      console.log(this.member);\r\n      console.log(this.parentData);\r\n      console.log(this.MemberTable);\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      shown: false,\r\n      MemberList,\r\n      member: [],\r\n    };\r\n  },\r\n  props: {\r\n    parentData: {\r\n      type: Array,\r\n      default: () => [],\r\n    },\r\n  },\r\n  computed: {\r\n    MemberTable() {\r\n      return this.MemberList.List.map((item, index) => {\r\n        return {\r\n          key: index,\r\n          label: `${item.name}(${item.job})`,\r\n        };\r\n      });\r\n    },\r\n  },\r\n  watch: {\r\n    parentData: {\r\n      handler: function (val) {\r\n        // const newMember = val.map((item) => {\r\n        //   return {\r\n        //     key: MemberList.findIndexByRankName(item.rank, item.name),\r\n        //     label: `${item.name}(${item.job})`,\r\n        //   };\r\n        // });\r\n        // console.log(newMember);\r\n        // this.member = newMember;\r\n        const newMember = val.map((item) =>\r\n          MemberList.findIndexByRankName(item.rank, item.name)\r\n        );\r\n        if (JSON.stringify(newMember) !== JSON.stringify(this.member)) {\r\n          this.member = newMember;\r\n        }\r\n      },\r\n      deep: true,\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style scoped>\r\n.buttons {\r\n  display: flex;\r\n  justify-content: center;\r\n  margin-left: auto;\r\n  margin-bottom: 1rem;\r\n}\r\n.transfer {\r\n  display: flex;\r\n  justify-content: center;\r\n}\r\n.dialogHeader {\r\n  background-color: #409eff;\r\n  height: 2.5rem;\r\n}\r\n.dialogHeader h2 {\r\n  font-size: 1.25rem;\r\n  padding: 0.5rem;\r\n  color: white;\r\n  text-align: center;\r\n}\r\n</style>\r\n","import { render } from \"./addMemberV2.vue?vue&type=template&id=48f2e405&scoped=true&lang=true\"\nimport script from \"./addMemberV2.vue?vue&type=script&lang=js\"\nexport * from \"./addMemberV2.vue?vue&type=script&lang=js\"\n\nimport \"./addMemberV2.vue?vue&type=style&index=0&id=48f2e405&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-48f2e405\"]])\n\nexport default __exports__"],"names":["_createElementVNode","class","_createBlock","_component_el_form","model","$data","messageData","_createVNode","_component_el_form_item","label","prop","$options","checkReply","_component_addMemberV2","parentData","to","onSavePart","savePart","_component_el_input","$event","disabled","formatter","formatTo","_component_el_alert","type","closable","_hoisted_1","title","content","autosize","_hoisted_2","_component_el_button","onClick","onSubmit","_cache","_ctx","$emit","name","components","addMemberV2","emits","props","replyData","Object","default","from","data","MemberList","currentMember","computed","arrangeTo","this","join","currentTo","undefined","keys","length","methods","filter","item","preserveWhitespace","Array","isArray","map","member","text","replace","unpreserveWhitespace","watch","immediate","handler","val","push","findMemberByName","rank","deep","__exports__","render","shown","_component_el_dialog","header","_withCtx","titleId","titleClass","id","_normalizeClass","_hoisted_3","_component_el_transfer","MemberTable","titles","filterable","_hoisted_4","Confirm","debug","notSave","original","List","job","console","log","index","key","newMember","findIndexByRankName","JSON","stringify"],"sourceRoot":""}