"use strict";(self["webpackChunkvue_project"]=self["webpackChunkvue_project"]||[]).push([[730,545,680],{7730:function(e,t,a){a.r(t),a.d(t,{default:function(){return p}});var l=a(6252),r=a(3577);const n=(0,l._)("span",null,"일정 만들기",-1);function o(e,t,a,o,m,s){const d=(0,l.up)("el-input"),u=(0,l.up)("el-form-item"),i=(0,l.up)("addMemberV2"),p=(0,l.up)("showMemberV2"),c=(0,l.up)("el-button"),b=(0,l.up)("el-form"),f=(0,l.up)("el-dialog");return(0,l.wg)(),(0,l.j4)(f,{modelValue:m.display,"onUpdate:modelValue":t[2]||(t[2]=e=>m.display=e),"destroy-on-close":""},{header:(0,l.w5)((()=>[n])),default:(0,l.w5)((()=>[(0,l.Wm)(b,{model:m.form},{default:(0,l.w5)((()=>[(0,l.Wm)(u,{label:"일정 제목"},{default:(0,l.w5)((()=>[(0,l.Wm)(d,{modelValue:m.form.title,"onUpdate:modelValue":t[0]||(t[0]=e=>m.form.title=e)},null,8,["modelValue"])])),_:1}),(0,l.Wm)(u,{label:"일정 내용"},{default:(0,l.w5)((()=>[(0,l.Wm)(d,{type:"textarea",modelValue:m.form.desc,"onUpdate:modelValue":t[1]||(t[1]=e=>m.form.desc=e)},null,8,["modelValue"])])),_:1}),(0,l.Wm)(u,{label:"참가 인원"},{default:(0,l.w5)((()=>[(0,l.Wm)(i,{onSavePart:s.savePart,parentData:m.form.member},null,8,["onSavePart","parentData"]),(0,l.Wm)(p,{parentData:m.form.member},null,8,["parentData"])])),_:1}),(0,l.Wm)(u,{label:"기간"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,r.zw)(this.Date[0])+" ~ "+(0,r.zw)(this.Date[1]),1)])),_:1}),(0,l.Wm)(u,null,{default:(0,l.w5)((()=>[(0,l.Wm)(c,{type:"primary",onClick:s.onSubmit},{default:(0,l.w5)((()=>[(0,l.Uk)("Submit")])),_:1},8,["onClick"]),(0,l.Wm)(c,{onClick:s.handleClose},{default:(0,l.w5)((()=>[(0,l.Uk)("Cancel")])),_:1},8,["onClick"])])),_:1})])),_:1},8,["model"])])),_:1},8,["modelValue"])}var m=a(9545),s=a(5680),d={name:"arrangeEvent",components:{addMemberV2:m["default"],showMemberV2:s["default"]},data(){return{form:{title:"",member:[],desc:""},display:!1}},props:{Date:{type:Array,default:()=>{}}},methods:{savePart(e){this.form.member=e},onSubmit(){const e={...this.form,start:this.Date[0],end:this.Date[1]};this.$emit("saveEvent",e),this.handleClose()},handleClose(){this.form={title:"",member:[],desc:""},this.display=!1}},watch:{Date(){0!==this.Date.length&&(this.display=!0)}}},u=a(3744);const i=(0,u.Z)(d,[["render",o]]);var p=i},9545:function(e,t,a){a.r(t),a.d(t,{default:function(){return b}});var l=a(6252),r=a(3577);const n={class:"dialogHeader"},o=["id"],m={class:"transfer"},s={class:"buttons"};function d(e,t,a,d,u,i){const p=(0,l.up)("el-button"),c=(0,l.up)("el-transfer"),b=(0,l.up)("el-dialog");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l.Wm)(p,{type:"primary",onClick:t[0]||(t[0]=e=>u.shown=!0),class:"buttons"},{default:(0,l.w5)((()=>[(0,l.Uk)("추가")])),_:1}),(0,l.Wm)(b,{modelValue:u.shown,"onUpdate:modelValue":t[2]||(t[2]=e=>u.shown=e),"show-close":!1},{header:(0,l.w5)((({titleId:e,titleClass:t})=>[(0,l._)("div",n,[(0,l._)("h2",{id:e,class:(0,r.C_)(t)},"참여인원",10,o)])])),default:(0,l.w5)((()=>[(0,l._)("div",m,[(0,l.Wm)(c,{modelValue:u.member,"onUpdate:modelValue":t[1]||(t[1]=e=>u.member=e),data:i.MemberTable,titles:["직원","참가인원"],"filter-placeholder":"직원 검색",filterable:""},null,8,["modelValue","data"])]),(0,l._)("div",s,[(0,l.Wm)(p,{type:"primary",onClick:i.Confirm},{default:(0,l.w5)((()=>[(0,l.Uk)("확인")])),_:1},8,["onClick"]),(0,l.Wm)(p,{type:"primary",onClick:i.debug},{default:(0,l.w5)((()=>[(0,l.Uk)("디버그")])),_:1},8,["onClick"]),(0,l.Wm)(p,{type:"warning",onClick:i.notSave},{default:(0,l.w5)((()=>[(0,l.Uk)("취소")])),_:1},8,["onClick"])])])),_:1},8,["modelValue"])],64)}var u=a(443),i={name:"addMember",emits:["savePart"],methods:{Confirm(){this.member=this.member.map((e=>{const t=this.MemberList.List[e];return{name:t.name,job:t.job,rank:t.rank}})),this.$emit("savePart",this.member),this.shown=!1},notSave(){this.member=this.parentData,this.shown=!1},debug(){console.log(this.member),console.log(this.parentData),console.log(this.MemberTable)}},data(){return{shown:!1,MemberList:u.r,member:[]}},props:{parentData:{type:Array,default:()=>[]}},computed:{MemberTable(){return this.MemberList.List.map(((e,t)=>({key:t,label:`${e.name}(${e.job})`})))}},watch:{parentData:{handler:function(e){const t=e.map((e=>u.r.findIndexByRankName(e.rank,e.name)));JSON.stringify(t)!==JSON.stringify(this.member)&&(this.member=t)},deep:!0}}},p=a(3744);const c=(0,p.Z)(i,[["render",d],["__scopeId","data-v-48f2e405"]]);var b=c},5680:function(e,t,a){a.r(t),a.d(t,{default:function(){return d}});var l=a(6252);function r(e,t,a,r,n,o){const m=(0,l.up)("el-table-column"),s=(0,l.up)("el-table");return(0,l.wg)(),(0,l.j4)(s,{data:a.parentData,border:"",onSelectionChange:o.handleSelect,"table-layout":n.tableLayout},{default:(0,l.w5)((()=>[(0,l.Wm)(m,{prop:"name",label:"Name"}),(0,l.Wm)(m,{prop:"job",label:"Job"}),(0,l.Wm)(m,{prop:"rank",label:"Rank"})])),_:1},8,["data","onSelectionChange","table-layout"])}var n=a(443),o={name:"projectPlan",props:{parentData:{type:Array,default:()=>[]}},data(){return{currentProject:null,tableData:[],MemberList:n.r,tableLayout:"auto"}},methods:{handleSelect(e){this.selectedRow=e}}},m=a(3744);const s=(0,m.Z)(o,[["render",r]]);var d=s}}]);
//# sourceMappingURL=730.c8a4e47c.js.map