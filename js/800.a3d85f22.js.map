{"version":3,"file":"js/800.a3d85f22.js","mappings":"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","sources":["webpack://vue-project/./src/composables/messageList.js","webpack://vue-project/./src/components/member/personalMessage.vue","webpack://vue-project/./src/components/member/personalMessage.vue?4724"],"sourcesContent":["import { reactive } from \"vue\";\r\nimport { NotificationList } from \"@/composables/notificationList\";\r\nimport moment from \"moment\";\r\n\r\nexport const messageList = reactive({\r\n  List: localStorage.getItem(\"messageList\")\r\n    ? JSON.parse(localStorage.getItem(\"messageList\"))\r\n    : [],\r\n  template: {\r\n    title: \"\",\r\n    content: \"\",\r\n    to: \"\",\r\n    from: \"\",\r\n    time: \"\",\r\n  },\r\n  deletedList: localStorage.getItem(\"deletedMessageList\")\r\n    ? JSON.parse(localStorage.getItem(\"deletedMessageList\"))\r\n    : [],\r\n  saveList(newList, to, from) {\r\n    //to는 object가 들어오는 array라서 각각의 element를 처리해야함\r\n    to.forEach((element) => {\r\n      this.List.unshift({\r\n        title: newList.title,\r\n        content: newList.content,\r\n        to: element,\r\n        from: from,\r\n        idx: this.List.length,\r\n        time: moment().format(\"YYYY-MM-DD\"),\r\n      });\r\n      NotificationList.saveList(newList, \"메세지\", element, from);\r\n    });\r\n    localStorage.setItem(\"messageList\", JSON.stringify(this.List));\r\n  },\r\n  deleteListByIdx(idx) {\r\n    this.deletedList.push(this.List[idx]);\r\n    this.List.splice(idx, 1);\r\n    localStorage.setItem(\"messageList\", JSON.stringify(this.List));\r\n    localStorage.setItem(\r\n      \"deletedMessageList\",\r\n      JSON.stringify(this.deletedList)\r\n    );\r\n  },\r\n  callListByName(name) {\r\n    return this.List.filter((element) => element.to.name === name);\r\n  },\r\n  callListByFrom(name) {\r\n    return this.List.filter((element) => element.from === name);\r\n  },\r\n});\r\n","<template lang=\"\">\r\n  <div class=\"button\">\r\n    <el-button type=\"primary\" @click=\"create\">작성</el-button>\r\n    <el-button type=\"warning\" @click=\"deleteMessage\">삭제</el-button>\r\n  </div>\r\n  <el-table :data=\"messageList\" border @selection-change=\"handleSelect\">\r\n    <el-table-column type=\"selection\" width=\"55\" />\r\n    <el-table-column prop=\"from\" label=\"보낸 사람\" width=\"150\" />\r\n    <el-table-column prop=\"title\" label=\"제목\">\r\n      <template #default=\"scope\">\r\n        <el-link type=\"primary\" @click=\"toggleCheck(scope.row)\">\r\n          {{ scope.row.title }}\r\n        </el-link>\r\n      </template>\r\n    </el-table-column>\r\n    <el-table-column prop=\"time\" label=\"시간\" width=\"200\" />\r\n  </el-table>\r\n</template>\r\n<script>\r\nimport { MemberList } from \"@/composables/memberList\";\r\nimport { messageList } from \"@/composables/messageList\";\r\nexport default {\r\n  name: \"personalMessage\",\r\n  emits: [\"toggleCheck\", \"create\"],\r\n  data() {\r\n    return {\r\n      selectedRow: [],\r\n      currentMember: MemberList.currentMember,\r\n    };\r\n  },\r\n  computed: {\r\n    messageList() {\r\n      return messageList.callListByName(this.currentMember);\r\n    },\r\n  },\r\n  methods: {\r\n    handleSelect(item) {\r\n      this.selectedRow = item;\r\n    },\r\n    toggleCheck(item) {\r\n      this.$emit(\"toggleCheck\", item);\r\n    },\r\n    create() {\r\n      this.$emit(\"create\");\r\n    },\r\n    deleteMessage() {\r\n      if (this.selectedRow.length === 0) {\r\n        this.$message({\r\n          message: \"삭제할 메시지를 선택해주세요.\",\r\n          type: \"warning\",\r\n        });\r\n        return;\r\n      } else {\r\n        this.$confirm(\"정말 삭제하시겠습니까?\", \"삭제 확인\", {\r\n          confirmButtonText: \"삭제\",\r\n          cancelButtonText: \"취소\",\r\n          type: \"warning\",\r\n        })\r\n          .then(() => {\r\n            this.$message({\r\n              type: \"success\",\r\n              message: \"삭제되었습니다.\",\r\n            });\r\n            this.selectedRow.forEach((item) => {\r\n              messageList.deleteListByIdx(item.idx);\r\n            });\r\n            this.selectedRow = [];\r\n          })\r\n          .catch(() => {\r\n            this.$message({\r\n              type: \"info\",\r\n              message: \"취소되었습니다.\",\r\n            });\r\n          });\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style scoped>\r\n.button {\r\n  text-align: right;\r\n  margin-bottom: 10px;\r\n}\r\n</style>\r\n","import { render } from \"./personalMessage.vue?vue&type=template&id=b6e8bbe2&scoped=true&lang=true\"\nimport script from \"./personalMessage.vue?vue&type=script&lang=js\"\nexport * from \"./personalMessage.vue?vue&type=script&lang=js\"\n\nimport \"./personalMessage.vue?vue&type=style&index=0&id=b6e8bbe2&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-b6e8bbe2\"]])\n\nexport default __exports__"],"names":["messageList","reactive","List","localStorage","getItem","JSON","parse","template","title","content","to","from","time","deletedList","saveList","newList","forEach","element","this","unshift","idx","length","moment","format","NotificationList","setItem","stringify","deleteListByIdx","push","splice","callListByName","name","filter","callListByFrom","class","_createElementVNode","_hoisted_1","_createVNode","_component_el_button","type","onClick","$options","create","deleteMessage","_component_el_table","data","border","onSelectionChange","handleSelect","_component_el_table_column","width","prop","label","default","_withCtx","scope","_component_el_link","$event","toggleCheck","row","emits","selectedRow","currentMember","MemberList","computed","methods","item","$emit","$confirm","confirmButtonText","cancelButtonText","then","$message","message","catch","__exports__","render"],"sourceRoot":""}