"use strict";(self["webpackChunkvue_project"]=self["webpackChunkvue_project"]||[]).push([[800],{9231:function(e,t,s){s.d(t,{J:function(){return r}});s(541),s(7658);var i=s(4870),l=s(2596),a=s(6797),o=s.n(a);const r=(0,i.qj)({List:localStorage.getItem("messageList")?JSON.parse(localStorage.getItem("messageList")):[],template:{title:"",content:"",to:"",from:"",time:""},deletedList:localStorage.getItem("deletedMessageList")?JSON.parse(localStorage.getItem("deletedMessageList")):[],saveList(e,t,s){t.forEach((t=>{this.List.unshift({title:e.title,content:e.content,to:t,from:s,idx:this.List.length,time:o()().format("YYYY-MM-DD")}),l.x.saveList(e,"메세지",t,s)})),localStorage.setItem("messageList",JSON.stringify(this.List))},deleteListByIdx(e){this.deletedList.push(this.List[e]),this.List.splice(e,1),localStorage.setItem("messageList",JSON.stringify(this.List)),localStorage.setItem("deletedMessageList",JSON.stringify(this.deletedList))},callListByName(e){return this.List.filter((t=>t.to.name===e))},callListByFrom(e){return this.List.filter((t=>t.from===e))}})},800:function(e,t,s){s.r(t),s.d(t,{default:function(){return g}});var i=s(3396),l=s(7139);const a={class:"button"};function o(e,t,s,o,r,n){const c=(0,i.up)("el-button"),m=(0,i.up)("el-table-column"),d=(0,i.up)("el-link"),g=(0,i.up)("el-table");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i._)("div",a,[(0,i.Wm)(c,{type:"primary",onClick:n.create},{default:(0,i.w5)((()=>[(0,i.Uk)("작성")])),_:1},8,["onClick"]),(0,i.Wm)(c,{type:"warning",onClick:n.deleteMessage},{default:(0,i.w5)((()=>[(0,i.Uk)("삭제")])),_:1},8,["onClick"])]),(0,i.Wm)(g,{data:n.messageList,border:"",onSelectionChange:n.handleSelect},{default:(0,i.w5)((()=>[(0,i.Wm)(m,{type:"selection",width:"55"}),(0,i.Wm)(m,{prop:"from",label:"보낸 사람",width:"150"}),(0,i.Wm)(m,{prop:"title",label:"제목"},{default:(0,i.w5)((e=>[(0,i.Wm)(d,{type:"primary",onClick:t=>n.toggleCheck(e.row)},{default:(0,i.w5)((()=>[(0,i.Uk)((0,l.zw)(e.row.title),1)])),_:2},1032,["onClick"])])),_:1}),(0,i.Wm)(m,{prop:"time",label:"시간",width:"200"})])),_:1},8,["data","onSelectionChange"])],64)}var r=s(443),n=s(9231),c={name:"personalMessage",emits:["toggleCheck","create"],data(){return{selectedRow:[],currentMember:r.r.currentMember}},computed:{messageList(){return n.J.callListByName(this.currentMember)}},methods:{handleSelect(e){this.selectedRow=e},toggleCheck(e){this.$emit("toggleCheck",e)},create(){this.$emit("create")},deleteMessage(){0!==this.selectedRow.length?this.$confirm("정말 삭제하시겠습니까?","삭제 확인",{confirmButtonText:"삭제",cancelButtonText:"취소",type:"warning"}).then((()=>{this.$message({type:"success",message:"삭제되었습니다."}),this.selectedRow.forEach((e=>{n.J.deleteListByIdx(e.idx)})),this.selectedRow=[]})).catch((()=>{this.$message({type:"info",message:"취소되었습니다."})})):this.$message({message:"삭제할 메시지를 선택해주세요.",type:"warning"})}}},m=s(89);const d=(0,m.Z)(c,[["render",o],["__scopeId","data-v-b6e8bbe2"]]);var g=d}}]);
//# sourceMappingURL=800.a3d85f22.js.map